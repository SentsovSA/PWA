# üì• –£–ª—É—á—à–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ - Evctrade Mobile App

## üéØ **–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞:**

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç—á–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–∫–∏–¥—ã–≤–∞–ª–æ –≤ –±—Ä–∞—É–∑–µ—Ä –≤–º–µ—Å—Ç–æ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

## ‚úÖ **–†–µ—à–µ–Ω–∏–µ:**

–ó–∞–º–µ–Ω–∏–ª–∏ `ACTION_VIEW` –Ω–∞ `DownloadManager` –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤.

### üîß **–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:**

#### **–ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```kotlin
val intent = Intent(Intent.ACTION_VIEW, Uri.parse(url))
intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)
view?.context?.startActivity(intent)
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ç–∫—Ä—ã–≤–∞–ª–æ —Ñ–∞–π–ª –≤ –±—Ä–∞—É–∑–µ—Ä–µ

#### **–°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```kotlin
val downloadManager = view?.context?.getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager
val downloadRequest = DownloadManager.Request(Uri.parse(url))

// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏
downloadRequest.setTitle("Evctrade Report")
downloadRequest.setDescription("Downloading report from Evctrade")
downloadRequest.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)
downloadRequest.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, "evctrade_report_${System.currentTimeMillis()}")

// –ó–∞–ø—É—Å–∫–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
val downloadId = downloadManager.enqueue(downloadRequest)
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –§–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ –ø–∞–ø–∫—É Downloads

## üì± **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç** "–°–∫–∞—á–∞—Ç—å –æ—Ç—á–µ—Ç" –Ω–∞ —Å–∞–π—Ç–µ
2. **WebView –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç** URL —Å `export_report`
3. **DownloadManager –∑–∞–ø—É—Å–∫–∞–µ—Ç** –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–∞
4. **–§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è** –≤ –ø–∞–ø–∫—É Downloads
5. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è** –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏
6. **Fallback:** –µ—Å–ª–∏ DownloadManager –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä

## üéØ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ **–§–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚úÖ **–ù–µ –ø–æ–∫–∏–¥–∞–µ–º** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ —Å—Ç–∞—Ç—É—Å–µ –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ **–§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** –≤ Downloads
- ‚úÖ **Fallback** –Ω–∞ –±—Ä–∞—É–∑–µ—Ä –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## üìä **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤:**

- ‚úÖ **PDF –æ—Ç—á–µ—Ç—ã** - `.pdf`
- ‚úÖ **Excel —Ñ–∞–π–ª—ã** - `.xlsx`
- ‚úÖ **CSV —Ñ–∞–π–ª—ã** - `.csv`
- ‚úÖ **–õ—é–±—ã–µ —Ñ–∞–π–ª—ã** —Å `export_report` –∏–ª–∏ `download` –≤ URL

## üîß **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏:**

```kotlin
downloadRequest.setTitle("Evctrade Report")                    // –ó–∞–≥–æ–ª–æ–≤–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
downloadRequest.setDescription("Downloading report...")        // –û–ø–∏—Å–∞–Ω–∏–µ
downloadRequest.setNotificationVisibility(VISIBILITY_VISIBLE_NOTIFY_COMPLETED) // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
downloadRequest.setDestinationInExternalPublicDir(DIRECTORY_DOWNLOADS, "filename") // –ü–∞–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
```

## üöÄ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –∑–∞–≥—Ä—É–∑–∫–∏:
- ‚úÖ **–§–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è** –≤ –ø–∞–ø–∫—É Downloads
- ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** –æ –∑–∞–≥—Ä—É–∑–∫–µ
- ‚úÖ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–µ—Ç—Å—è** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- ‚úÖ **–§–∞–π–ª –¥–æ—Å—Ç—É–ø–µ–Ω** –≤ —Ñ–∞–π–ª–æ–≤–æ–º –º–µ–Ω–µ–¥–∂–µ—Ä–µ

## üéâ **–ì–æ—Ç–æ–≤–æ!**

–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ! üöÄ
